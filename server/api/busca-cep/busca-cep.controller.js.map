{"version":3,"sources":["api/busca-cep/busca-cep.controller.js"],"names":["show","respondWithResult","res","statusCode","entity","status","json","req","options","host","port","path","params","id","console","log","get","then","code"],"mappings":"AAAA;;;;AAIA;;;;;QAgBgBA,I,GAAAA,I;;AAfhB;;;;AACA;;;;;;AAEA,SAASC,iBAAT,CAA2BC,GAA3B,EAAgCC,UAAhC,EAA4C;AAC1CA,eAAaA,cAAc,GAA3B;AACA,SAAO,UAASC,MAAT,EAAiB;AACtB,QAAGA,MAAH,EAAW;AACT,aAAOF,IAAIG,MAAJ,CAAWF,UAAX,EAAuBG,IAAvB,CAA4BF,MAA5B,CAAP;AACD;AACD,WAAO,IAAP;AACD,GALD;AAMD;;AAGD;AACO,SAASJ,IAAT,CAAcO,GAAd,EAAmBL,GAAnB,EAAwB;AAC7B,MAAIM,UAAU;AACZC,UAAM,qBADM;AAEZC,UAAM,EAFM;AAGZC,kCAA4BJ,IAAIK,MAAJ,CAAWC,EAAvC;AAHY,GAAd;AAKAC,UAAQC,GAAR,CAAYR,IAAIK,MAAJ,CAAWC,EAAvB;;AAEA,uBAAWG,GAAX,mDAA+DT,IAAIK,MAAJ,CAAWC,EAA1E;AACE;AADF,GAEGI,IAFH,CAEQhB,kBAAkBC,GAAlB,EAAuBA,IAAIgB,IAA3B,CAFR;AAGD","file":"busca-cep.controller.js","sourcesContent":["/**\n * Using Rails-like standard naming convention for endpoints.\n * GET     /api/busca-cep/:id              ->  index\n */\n'use strict';\nimport jsonpatch from 'fast-json-patch';\nimport requestify from 'requestify';\n\nfunction respondWithResult(res, statusCode) {\n  statusCode = statusCode || 200;\n  return function(entity) {\n    if(entity) {\n      return res.status(statusCode).json(entity);\n    }\n    return null;\n  };\n}\n\n\n// Gets a cep\nexport function show(req, res) {\n  var options = {\n    host: 'apps.widenet.com.br',\n    port: 80,\n    path: `/busca-cep/api/cep/${req.params.id}.json`\n  };\n  console.log(req.params.id);\n\n  requestify.get(`http://apps.widenet.com.br/busca-cep/api/cep/${req.params.id}.json`)\n    //.then(res => response.getBody)\n    .then(respondWithResult(res, res.code));\n}\n"]}